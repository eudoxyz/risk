"use strict";function _toConsumableArray(a){if(Array.isArray(a)){for(var e=0,t=Array(a.length);e<a.length;e++)t[e]=a[e];return t}return Array.from(a)}var WIDTH=960,HEIGHT=640,VERTICE_DIAMETER=32,TERITORIJE=["Alaska","Alberta","Central America","Eastern United States","Greenland","Northwest Territory","Ontario","Quebec","Western United States","Argentina","Brazil","Peru","Venezuela","Great Britain","Iceland","Northern Europe","Scandinavia","Southern Europe","Ukraine","Western Europe","Congo","East Africa","Egypt","Madagascar","North Africa","South Africa","Afghanistan","China","India","Irkutsk","Japan","Kamchatka","Middle East","Mongolia","Siam","Siberia","Ural","Yakutsk","Eastern Australia","Indonesia","New Guinea","Western Australia"],KONTINENTI={northAmerica:[].concat(_toConsumableArray(Array(9).keys())).slice(0),southAmerica:[].concat(_toConsumableArray(Array(13).keys())).slice(9),europe:[].concat(_toConsumableArray(Array(20).keys())).slice(13),africa:[].concat(_toConsumableArray(Array(26).keys())).slice(20),asia:[].concat(_toConsumableArray(Array(38).keys())).slice(26),australia:[].concat(_toConsumableArray(Array(42).keys())).slice(38)},GRAF=[[1,5,31],[0,5,6,8],[3,8,12],[2,6,7,8],[5,6,7,14],[0,1,4,6],[1,3,4,5,7,8],[3,4,6],[1,2,3,6],[10,11],[9,11,12,24],[9,10,12],[2,10,11],[14,15,16,19],[4,13,16],[13,16,17,18,19],[13,14,15,18],[15,18,19,22,24,32],[15,16,17,26,32,36],[13,15,17,24],[21,24,25],[20,22,23,24,25],[17,21,24,32],[21,25],[10,17,19,20,21,22],[20,21,23],[18,27,28,32,36],[26,28,33,34,35,36],[26,27,32,34],[31,33,35,37],[33,31],[29,30,33,37,0],[17,18,22,26,28],[27,29,30,31,35],[27,28,39],[27,29,33,36,37],[18,26,27,35],[29,31,35],[40,41],[34,40,41],[38,39,41],[38,39,40]],KOORDINATE=[[55,155],[136,194],[177,321],[245,274],[374,101],[184,148],[219,198],[292,199],[177,254],[229,553],[299,451],[225,476],[203,391],[420,230],[407,168],[475,240],[469,166],[487,292],[550,209],[408,300],[465,465],[547,431],[492,354],[586,546],[412,371],[476,543],[620,277],[751,306],[654,355],[797,190],[875,300],[887,155],[565,335],[818,254],[739,377],[708,168],[643,185],[810,143],[845,554],[765,440],[860,460],[768,521]],bootState={create:function(){game.canvas.oncontextmenu=function(a){return a.preventDefault()},game.stage.backgroundColor="#1291ee",game.stage.disableVisibilityChange=!0,game.state.start("load")}},loadState={preload:function(){game.load.audio("nightRain",["assets/audio/airtone_-_nightRain.ogg"]),game.load.audio("tick",["assets/audio/tick.mp3"])},create:function(){game.state.start("menu")}},menuState={create:function(){game.add.text(game.world.centerX,game.world.centerY,"Klikni mišem za početak",{font:"48px Arial",fill:"#F3F3F3"}).anchor.setTo(.5,.5),game.input.mousePointer.leftButton.onDown.addOnce(function(){game.state.start("play")})}},playState={create:function(){game.add.audio("nightRain").play(),this.tickSound=game.add.audio("tick"),this.drawEdges(),this.drawVertices()},update:function(){},drawEdge:function(a,e,t){var r=game.add.graphics();if(r.lineStyle(2,15987699,1),0===t[0]&&31===t[1]){var n=(a[0]+e[0])/2,i=a[1],o=e[0]-a[0],s=Math.sqrt(Math.pow(650,2)+Math.pow(o/2,2));r.arc(n,i+650,s,-Math.asin(650/s),Math.PI+Math.asin(650/s),!0,96)}else r.moveTo(a[0],a[1]),r.lineTo(e[0],e[1])},drawEdges:function(){for(var a=[].concat(_toConsumableArray(Array(42).keys())).map(function(a){return Array(42)}),e=0;e<GRAF.length;e++)for(var t=0;t<GRAF[e].length;t++)a[e][GRAF[e][t]]||(this.drawEdge(KOORDINATE[e],KOORDINATE[GRAF[e][t]],[e,GRAF[e][t]]),a[e][GRAF[e][t]]=a[GRAF[e][t]][e]=!0)},drawVertices:function(){var a=game.add.group();a.inputEnableChildren=!0;for(var e=0;e<KOORDINATE.length;e++){var t=game.add.graphics();t.lineStyle(4,15987699,1);var r=void 0;r=e<9?16711680:e<13?26112:e<20?13260:e<26?0:e<38?16763904:13369548,t.beginFill(r,1),t.drawCircle(KOORDINATE[e][0],KOORDINATE[e][1],VERTICE_DIAMETER),t.endFill(),t.data.tenkici=game.add.text(KOORDINATE[e][0],KOORDINATE[e][1],"0",{font:"16px Arial",fill:"#ffffff"}),t.data.tenkici.anchor.setTo(.5,.4),t.events.onInputDown.add(function(e,t){t.leftButton.isDown&&(e.data.tenkici.text=String(++game.global.tenkici[a.getChildIndex(e)]),this.tickSound.play())},this),a.add(t)}}},game=new Phaser.Game(WIDTH,HEIGHT,Phaser.AUTO,"root");game.global={tenkici:new Array(42).fill(0)},game.state.add("boot",bootState),game.state.add("load",loadState),game.state.add("menu",menuState),game.state.add("play",playState),game.state.start("boot");